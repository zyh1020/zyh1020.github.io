---
icon: file-lines
title: TCP三次握手
author: Ms.Zyh
date: 2023-07-03
category:
  - Java
tag:
  - 干货
  - Java
sticky: false
star: false
---

假设两个人A、B两个情报员，需要通过书信交流情报。AB双方想要真正交流情报，首先需要建立交流渠道、需要确保自己能发（SYN）且别人能收（ACK）：
二次握手：
A：“你能收到我写的信吗？”（A:SYN）
B：“我能收到你写的信！你能收到我写的信吗？”（B:ACK-B:SYN）
三次握手：
A：“你能收到我写的信吗？”（A:SYN）
B：“我能收到你写的信！你能收到我写的信吗？”（B:ACK-B:SYN）
A：“我也能收到！”（A:ACK）
四次握手：
A：“你能收到我写的信吗？”（A:SYN）
B：“我能收到你写的信！”（B:ACK）
B：“你能收到我写的信吗？”（B:SYN）
A：“我也能收到！”（A:ACK）
好的，我们现在解释一下常见的问题。
问题1:为什么TCP二次握手不可以？
根据二次握手中A和B的交流、可以发现A可以确定自己能发（SYN）、B能收（ACK），但是B只能确定自己能发（SYN），A能不能收（ACK）到这就不确定了。试想一下你和你朋友写信，一直没收到朋友的回信，你还会继续写下去吗，你会怀疑自己是不是发的地址不对，或者朋友没有收到信，再说写下去也是白写，平白浪费时间。
问题2:为什么不是四次握手？
根据四次握手中A和B的交流、可以发现A可以确定自己能发（SYN）、B能收（ACK），B也能确定自己能发（SYN），A能收（ACK）到。那为什么不采用四次握手？因为B家没钱，为了节省钱，就写了一封信做了两件事，回答朋友的问题并问出自己的问题。

