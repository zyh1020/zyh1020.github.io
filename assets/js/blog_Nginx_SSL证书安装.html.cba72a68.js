"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[1527],{9723:(s,i,n)=>{n.r(i),n.d(i,{comp:()=>a,data:()=>l});var e=n(641);const t={},a=(0,n(6262).A)(t,[["render",function(s,i){return(0,e.uX)(),(0,e.CE)("div",null,i[0]||(i[0]=[(0,e.Fv)('<h3 id="一、申请ssl证书" tabindex="-1"><a class="header-anchor" href="#一、申请ssl证书"><span>一、申请SSL证书</span></a></h3><blockquote><p>腾讯官方免费SSL证书申请文档： <a href="https://cloud.tencent.com/document/product/400/6814" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/document/product/400/6814</a></p></blockquote><p>这个比较简单跟着流程走基本上没问题的，申请的时候需要注意一下字段：</p><ul><li>免费证书绑定域名：<a href="http://tencent.xn--comwww-595j9909ac7e.tencent.com" target="_blank" rel="noopener noreferrer">tencent.com只赠送www.tencent.com</a>，<a href="http://xn--ssl-628d60uoyb.tencent.com" target="_blank" rel="noopener noreferrer">不包含ssl.tencent.com</a>，需单独申请；如需绑定泛域名（例如 *.tencent.com）或者绑定IP，请购买付费证书。</li><li>域名验证方式：手动DNS验证比较简单。</li></ul><h3 id="二、安装ssl证书" tabindex="-1"><a class="header-anchor" href="#二、安装ssl证书"><span>二、安装SSL证书</span></a></h3><blockquote><p>腾讯官方文档： <a href="https://cloud.tencent.com/document/product/400/35244" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/document/product/400/35244</a></p></blockquote><p>注意：</p><ul><li>我踩的坑<code>-v /root/nginx/ssl:/etc/nginx/ssl/</code>一定要挂载证书文件啊！</li><li>建议直接使用如下流程。<br> 第一步：将请在 <a href="https://console.cloud.tencent.com/ssl" target="_blank" rel="noopener noreferrer">SSL 证书控制台</a> 中选择您需要安装的证书下载后上传服务器，文件夹内容如下：</li><li><code>zouyh.top_bundle.crt</code> 证书文件</li><li><code>zouyh.top_bundle.pem</code> 证书文件</li><li><code>zouyh.top.key</code> 私钥文件</li><li><code>zouyh.top.csr</code> CSR 文件</li></ul><p>第二步：新建/nginx/conf.d/ssl.conf配置：</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     #SSL 默认访问端口号为 443</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     listen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">443</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ssl; </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     #请填写绑定证书的域名</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     server_name </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">zouyh.top; </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     #/etc/nginx/ssl 路径是nginx内的不能变</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     ssl_certificate </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/etc/nginx/ssl/zouyh.top_bundle.crt; </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     ssl_certificate_key </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /etc/nginx/ssl/zouyh.top.key; </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     ssl_session_timeout </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     #请按照以下协议配置</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     ssl_protocols </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">TLSv1.2 TLSv1.3; </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     #请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     ssl_ciphers </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; </span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     ssl_prefer_server_ciphers </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">\t #把https的域名请求转成http,也可以将</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">\t return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 301</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> http://$</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">request_uri</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第三步：改变ngixn的启动命令：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 80:80</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 443:443</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/nginx.conf:/etc/nginx/nginx.conf</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/logs/:/var/log/nginx</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/html/:/usr/share/nginx/html</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/conf.d/:/etc/nginx/conf.d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/ssl:/etc/nginx/ssl/</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-e </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">TZ=Asia/Shanghai</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--privileged=true </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',12)]))}]]),l=JSON.parse('{"path":"/blog/Nginx/SSL%E8%AF%81%E4%B9%A6%E5%AE%89%E8%A3%85.html","title":"SSL证书安装","lang":"zh-CN","frontmatter":{"icon":"file-lines","title":"SSL证书安装","author":"Ms.Zyh","date":"2022-05-26T00:00:00.000Z","category":["Nginx"],"tag":["必看","Nginx"],"sticky":false,"star":false,"description":"一、申请SSL证书 腾讯官方免费SSL证书申请文档： https://cloud.tencent.com/document/product/400/6814 这个比较简单跟着流程走基本上没问题的，申请的时候需要注意一下字段： 免费证书绑定域名：tencent.com只赠送www.tencent.com，不包含ssl.tencent.com，需单独申请；...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SSL证书安装\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-05-26T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-06T08:18:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ms.Zyh\\"}]}"],["meta",{"property":"og:url","content":"http://img.zouyh.top/vuepress/blog/Nginx/SSL%E8%AF%81%E4%B9%A6%E5%AE%89%E8%A3%85.html"}],["meta",{"property":"og:site_name","content":"Mr.Zyh"}],["meta",{"property":"og:title","content":"SSL证书安装"}],["meta",{"property":"og:description","content":"一、申请SSL证书 腾讯官方免费SSL证书申请文档： https://cloud.tencent.com/document/product/400/6814 这个比较简单跟着流程走基本上没问题的，申请的时候需要注意一下字段： 免费证书绑定域名：tencent.com只赠送www.tencent.com，不包含ssl.tencent.com，需单独申请；..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-06T08:18:22.000Z"}],["meta",{"property":"article:author","content":"Ms.Zyh"}],["meta",{"property":"article:tag","content":"Nginx"}],["meta",{"property":"article:tag","content":"必看"}],["meta",{"property":"article:published_time","content":"2022-05-26T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-06T08:18:22.000Z"}]]},"git":{"createdTime":1755935409000,"updatedTime":1757146702000,"contributors":[{"name":"zyh1020","username":"zyh1020","email":"898362059@qq.pcom","commits":2,"url":"https://github.com/zyh1020"}]},"readingTime":{"minutes":1.52,"words":457},"filePathRelative":"blog/Nginx/SSL证书安装.md","excerpt":"<h3>一、申请SSL证书</h3>\\n<blockquote>\\n<p>腾讯官方免费SSL证书申请文档： <a href=\\"https://cloud.tencent.com/document/product/400/6814\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://cloud.tencent.com/document/product/400/6814</a></p>\\n</blockquote>\\n<p>这个比较简单跟着流程走基本上没问题的，申请的时候需要注意一下字段：</p>\\n<ul>\\n<li>免费证书绑定域名：<a href=\\"http://tencent.xn--comwww-595j9909ac7e.tencent.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">tencent.com只赠送www.tencent.com</a>，<a href=\\"http://xn--ssl-628d60uoyb.tencent.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">不包含ssl.tencent.com</a>，需单独申请；如需绑定泛域名（例如 *.tencent.com）或者绑定IP，请购买付费证书。</li>\\n<li>域名验证方式：手动DNS验证比较简单。</li>\\n</ul>","autoDesc":true}')}}]);