"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[358],{2383:(s,n,i)=>{i.r(n),i.d(n,{comp:()=>l,data:()=>p});var a=i(641);const e={},l=(0,i(6262).A)(e,[["render",function(s,n){return(0,a.uX)(),(0,a.CE)("div",null,n[0]||(n[0]=[(0,a.Fv)('<h3 id="一-安装" tabindex="-1"><a class="header-anchor" href="#一-安装"><span>一，安装</span></a></h3><p>1，官网搜索：<a href="https://hub.docker.com/search/?q=&amp;type=image%E6%88%96%E8%80%85%60docker" target="_blank" rel="noopener noreferrer">https://hub.docker.com/search/?q=&amp;type=image或者`docker</a> search 关键字`搜索<br> 2，拉取镜像:</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>3，创建临时容器，方便拷贝配置文件：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-temp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 80:80</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将创建临时容器的配置文件拷贝出来：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/nginx</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-temp:/etc/nginx/nginx.conf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/nginx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-temp:/etc/nginx/conf.d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/nginx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-temp:/usr/share/nginx/html</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/nginx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-temp:/var/log/nginx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/nginx/logs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后删除容器：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-temp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-temp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>4，创建正式的nginx容器：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 80:80</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/nginx.conf:/etc/nginx/nginx.conf</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/logs/:/var/log/nginx</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/html/:/usr/share/nginx/html</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/nginx/conf.d/:/etc/nginx/conf.d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-e </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">TZ=Asia/Shanghai</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--privileged=true </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：前一个80是容器端口不可以改，后一个80宿主机的端口可以改，前一个80是容器端口要改先改配置文件。<br> 5，创建好容器后这里解释一下nginx文件夹中的文件作用：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>- ngxin</span></span>\n<span class="line"><span>\t- cond.d</span></span>\n<span class="line"><span>\t\t- default.conf : nginx配置文件</span></span>\n<span class="line"><span>\t- html : html或js静态文件</span></span>\n<span class="line"><span>\t- logs : 日志文件夹</span></span>\n<span class="line"><span>\t- nginx.conf :  nginx配置文件</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-nginx配置" tabindex="-1"><a class="header-anchor" href="#二-nginx配置"><span>二，nginx配置</span></a></h3><p>nginx.conf 文件内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>user  nginx;</span></span>\n<span class="line"><span>worker_processes  auto;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>error_log  /var/log/nginx/error.log notice;</span></span>\n<span class="line"><span>pid        /var/run/nginx.pid;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>events {</span></span>\n<span class="line"><span>    worker_connections  1024;</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>http {</span></span>\n<span class="line"><span>    include       /etc/nginx/mime.types;</span></span>\n<span class="line"><span>    default_type  application/octet-stream;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span></span>\n<span class="line"><span>                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span></span>\n<span class="line"><span>                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    access_log  /var/log/nginx/access.log  main;</span></span>\n<span class="line"><span>    client_max_body_size 100M;</span></span>\n<span class="line"><span>    sendfile        on;</span></span>\n<span class="line"><span>    #tcp_nopush     on;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    keepalive_timeout  65;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    #gzip  on;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    include /etc/nginx/conf.d/*.conf;</span></span>\n<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>default.conf 文件内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>upstream blog-servers {</span></span>\n<span class="line"><span>        server 43.142.100.77:8081 weight=1;</span></span>\n<span class="line"><span>}</span></span>\n<span class="line"><span>server {</span></span>\n<span class="line"><span>    listen       80;</span></span>\n<span class="line"><span>    server_name  localhost;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    #access_log  /var/log/nginx/host.access.log  main;</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>    location / {</span></span>\n<span class="line"><span>        root   /usr/share/nginx/html;</span></span>\n<span class="line"><span>        index  index.html index.htm;</span></span>\n<span class="line"><span>                try_files $uri $uri/ /index.html;</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>\tlocation /api {</span></span>\n<span class="line"><span>\t   proxy_pass http://blog-servers;</span></span>\n<span class="line"><span>\t   rewrite &quot;^/api/(.*)$&quot; /$1 break;</span></span>\n<span class="line"><span>\t}</span></span>\n<span class="line"><span>    error_page   500 502 503 504  /50x.html;</span></span>\n<span class="line"><span>\tlocation = /50x.html {</span></span>\n<span class="line"><span>\t\t\troot   html;</span></span>\n<span class="line"><span>\t}</span></span>\n<span class="line"><span>\tgzip on;</span></span>\n<span class="line"><span>\tgzip_min_length 2k;</span></span>\n<span class="line"><span>\tgzip_buffers 4 16k;</span></span>\n<span class="line"><span>\tgzip_http_version 1.0;</span></span>\n<span class="line"><span>\tgzip_comp_level 2;</span></span>\n<span class="line"><span>\tgzip_types text/plain application/javascript text/css application/xml;</span></span>\n<span class="line"><span>\tgzip_vary on;</span></span>\n<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',18)]))}]]),p=JSON.parse('{"path":"/blog/Docker/%E5%AE%89%E8%A3%85nginx.html","title":"安装nginx","lang":"zh-CN","frontmatter":{"icon":"file-lines","title":"安装nginx","author":"Ms.Zyh","date":"2022-05-28T00:00:00.000Z","category":["Docker"],"tag":["推荐","Docker"],"sticky":false,"star":false,"description":"一，安装 1，官网搜索：https://hub.docker.com/search/?q=&type=image或者`docker search 关键字`搜索 2，拉取镜像: 3，创建临时容器，方便拷贝配置文件： 将创建临时容器的配置文件拷贝出来： 然后删除容器： 4，创建正式的nginx容器： 注意：前一个80是容器端口不可以改，后一个80宿主机的端...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装nginx\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-05-28T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-06T08:18:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ms.Zyh\\"}]}"],["meta",{"property":"og:url","content":"http://img.zouyh.top/blog/Docker/%E5%AE%89%E8%A3%85nginx.html"}],["meta",{"property":"og:site_name","content":"Mr.Zyh"}],["meta",{"property":"og:title","content":"安装nginx"}],["meta",{"property":"og:description","content":"一，安装 1，官网搜索：https://hub.docker.com/search/?q=&type=image或者`docker search 关键字`搜索 2，拉取镜像: 3，创建临时容器，方便拷贝配置文件： 将创建临时容器的配置文件拷贝出来： 然后删除容器： 4，创建正式的nginx容器： 注意：前一个80是容器端口不可以改，后一个80宿主机的端..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-06T08:18:22.000Z"}],["meta",{"property":"article:author","content":"Ms.Zyh"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:tag","content":"推荐"}],["meta",{"property":"article:published_time","content":"2022-05-28T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-06T08:18:22.000Z"}]]},"git":{"createdTime":1755935409000,"updatedTime":1757146702000,"contributors":[{"name":"zyh1020","username":"zyh1020","email":"898362059@qq.pcom","commits":2,"url":"https://github.com/zyh1020"}]},"readingTime":{"minutes":1.51,"words":454},"filePathRelative":"blog/Docker/安装nginx.md","excerpt":"<h3>一，安装</h3>\\n<p>1，官网搜索：<a href=\\"https://hub.docker.com/search/?q=&amp;type=image%E6%88%96%E8%80%85%60docker\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://hub.docker.com/search/?q=&amp;type=image或者`docker</a> search 关键字`搜索<br>\\n2，拉取镜像:</p>\\n<div class=\\"language-sh line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sh\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-sh\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">docker</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> pull</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> nginx</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);