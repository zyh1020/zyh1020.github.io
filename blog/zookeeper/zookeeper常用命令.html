<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"zookeeperå¸¸ç”¨å‘½ä»¤","image":[""],"datePublished":"2022-05-19T00:00:00.000Z","dateModified":"2025-08-23T07:50:09.000Z","author":[{"@type":"Person","name":"Ms.Zyh"}]}</script><meta property="og:url" content="https://mister-hope.github.io/blog/zookeeper/zookeeper%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html"><meta property="og:site_name" content="Mr.Zyh"><meta property="og:title" content="zookeeperå¸¸ç”¨å‘½ä»¤"><meta property="og:description" content="ä¸€ï¼Œå¸¸è§å‘½ä»¤ 1.1 lså‘½ä»¤ lså‘½ä»¤ï¼šæŸ¥çœ‹ç›®å½•ä¸‹çš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œ å‘½ä»¤æ ¼å¼ï¼š -sï¼šæ˜¾ç¤ºèŠ‚ç‚¹è¯¦æƒ…ï¼ŒåŒ…æ‹¬çŠ¶æ€ä¿¡æ¯ -wï¼šæ·»åŠ ä¸€ä¸ªwatchç›‘è§†å™¨ -Rï¼šåˆ—ä¸¾å‡ºèŠ‚ç‚¹çš„çº§è”èŠ‚ç‚¹ pathï¼šæ˜¾ç¤ºæŸç›®å½•ä¸‹èŠ‚ç‚¹/æ–‡ä»¶ ä¾‹å¦‚ï¼š cZxidï¼šåˆ›å»ºèŠ‚ç‚¹çš„äº‹åŠ¡ zxid æ¯æ¬¡ä¿®æ”¹ ZooKeeper çŠ¶æ€éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª ZooKeeper äº‹åŠ¡ IDã€‚äº‹åŠ¡ ID æ˜¯ Zoo..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-08-23T07:50:09.000Z"><meta property="article:author" content="Ms.Zyh"><meta property="article:tag" content="zookeeper"><meta property="article:tag" content="ååƒ»"><meta property="article:published_time" content="2022-05-19T00:00:00.000Z"><meta property="article:modified_time" content="2025-08-23T07:50:09.000Z"><link rel="icon" href="http://zouyh.top/favicon.png"><title>zookeeperå¸¸ç”¨å‘½ä»¤ | Mr.Zyh</title><meta name="description" content="ä¸€ï¼Œå¸¸è§å‘½ä»¤ 1.1 lså‘½ä»¤ lså‘½ä»¤ï¼šæŸ¥çœ‹ç›®å½•ä¸‹çš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œ å‘½ä»¤æ ¼å¼ï¼š -sï¼šæ˜¾ç¤ºèŠ‚ç‚¹è¯¦æƒ…ï¼ŒåŒ…æ‹¬çŠ¶æ€ä¿¡æ¯ -wï¼šæ·»åŠ ä¸€ä¸ªwatchç›‘è§†å™¨ -Rï¼šåˆ—ä¸¾å‡ºèŠ‚ç‚¹çš„çº§è”èŠ‚ç‚¹ pathï¼šæ˜¾ç¤ºæŸç›®å½•ä¸‹èŠ‚ç‚¹/æ–‡ä»¶ ä¾‹å¦‚ï¼š cZxidï¼šåˆ›å»ºèŠ‚ç‚¹çš„äº‹åŠ¡ zxid æ¯æ¬¡ä¿®æ”¹ ZooKeeper çŠ¶æ€éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª ZooKeeper äº‹åŠ¡ IDã€‚äº‹åŠ¡ ID æ˜¯ Zoo...">
    <link rel="stylesheet" href="/assets/css/styles.a410f29d.css">
    <link rel="preload" href="/assets/js/runtime~app.248b505e.js" as="script"><link rel="preload" href="/assets/css/styles.a410f29d.css" as="style"><link rel="preload" href="/assets/js/5967.f6df6183.js" as="script"><link rel="preload" href="/assets/js/app.9040c5d6.js" as="script">
    <link rel="prefetch" href="/assets/js/blog_zookeeper_zookeeperæºç è§£æ.html.f37e3a43.js" as="script"><link rel="prefetch" href="/assets/js/blog_Spring_springçš„AOPåŸç†è§£æ.html.c3da3992.js" as="script"><link rel="prefetch" href="/assets/js/blog_Spring_springçš„IOCåŠ è½½æ•´ä½“æµç¨‹.html.9f19b0f1.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_ç»“æ„æ¨¡å¼-ä»£ç†æ¨¡å¼.html.97e7a5d7.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_mybatisæºç è§£æMappé…ç½®æ–‡ä»¶.html.ac865b69.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_mybatisæºç è§£ææ ¸å¿ƒé…ç½®æ–‡ä»¶.html.94a39038.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_mybatisæºç è§£æsqlæ‰§è¡Œ.html.7d3f54ea.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_RocketMQæ ¸å¿ƒæ“ä½œ.html.b0a6c27f.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_mybatisç¼“å­˜.html.721f53af.js" as="script"><link rel="prefetch" href="/assets/js/blog_Spring_springçš„äº‹åŠ¡åŸç†è§£æ.html.78a1cc99.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringMvc_springMvcæºç è§£æ.html.ecb0d047.js" as="script"><link rel="prefetch" href="/assets/js/blog_Redis_rediså®ç°åˆ†å¸ƒå¼é”.html.26a4d204.js" as="script"><link rel="prefetch" href="/assets/js/blog_zookeeper_zookeeperå®ç°åˆ†å¸ƒå¼é”.html.c33baf92.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_SpringBootçš„runæ–¹æ³•.html.8c076136.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_ReentrantLockåŸç†è§£æ.html.0b8e71fa.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_springæ•´åˆmybatisæºç è§£æ.html.bb600115.js" as="script"><link rel="prefetch" href="/assets/js/blog_zookeeper_æ‰‹å†™zookeeperé…ç½®ä¸­å¿ƒ.html.b1331ed1.js" as="script"><link rel="prefetch" href="/assets/js/blog_Spring_springçš„å¾ªç¯ä¾èµ–.html.0f6ac9d1.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_RabbitMQçš„å„ç§é˜Ÿåˆ—.html.0d579a25.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_SpringBootäº‹ä»¶ç›‘å¬.html.58f57362.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_QLExpressè¡¨è¾¾å¼.html.d7e33732.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_RabbitMQå…­ç§å·¥ä½œæ¨¡å¼.html.96acb5f4.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_mybatisæ’ä»¶.html.82001680.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_SpringBootè‡ªåŠ¨è£…é…åŸç†.html.92da5e2c.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_Lambdaå’ŒStream.html.e9e34656.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_ReentrantReadWriteLockåŸç†.html.9f3a7e5c.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥ä½œæµ_flowableè¯·å‡æµç¨‹æ¡ˆä¾‹.html.721e6f6f.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_RabbitMQæ¶ˆæ¯çš„å¯é ä¼ é€’.html.ee9aae76.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_SpringBootå†…åµŒtomcatåŸç†è§£æ.html.12a0efeb.js" as="script"><link rel="prefetch" href="/assets/js/blog_Dubbo_@DubboReferenceæ³¨è§£.html.c4921bd0.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_CASå’ŒAtomic.html.1f18805e.js" as="script"><link rel="prefetch" href="/assets/js/blog_zookeeper_æ‰‹å†™zookeeperæ³¨å†Œä¸­å¿ƒ.html.36ac6642.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_çº¿ç¨‹æ± ThreadPoolExecutor.html.e853262a.js" as="script"><link rel="prefetch" href="/assets/js/blog_Jvm_jvmç±»åŠ è½½æœºåˆ¶.html.f144485e.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_SpringBootå¤–ç½®tomcatåŸç†è§£æ.html.3100b718.js" as="script"><link rel="prefetch" href="/assets/js/blog_Netty_BIOï¼ŒNIOå’ŒAIOæ¨¡å‹.html.101d54a4.js" as="script"><link rel="prefetch" href="/assets/js/blog_Redis_Redisæ ¸å¿ƒæ•°æ®ç»“æ„.html.f02cdb51.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_RabbitMQæ•´åˆSpringæˆ–SpringBoot.html.a0b93479.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringMvc_SpringMvcä½¿ç”¨Validationå‚æ•°æ ¡éªŒ.html.c0f36be4.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_SemaphoreåŸç†.html.12826d7b.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_MybatisåŠ¨æ€æ•°æ®æº.html.2a77ba12.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_HashMapåŸç†.html.8b430470.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_OpenFeign.html.e0655b8f.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_åˆ›å»ºæ¨¡å¼-å·¥å‚æ¨¡å¼.html.374044f4.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_Stringå­—ç¬¦ä¸²å¸¸é‡æ± .html.b52b9280.js" as="script"><link rel="prefetch" href="/assets/js/blog_Redis_Redisç¼“å­˜è®¾è®¡.html.07cc1ac6.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_javaå¯¹è±¡çš„æ‹·è´.html.cd070091.js" as="script"><link rel="prefetch" href="/assets/js/blog_Jvm_jvmå¯¹è±¡çš„ç»“æ„å’Œåˆ›å»º.html.ae351498.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_ConcurrentHashMapåˆ†æ®µé”.html.4f5fac67.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_ç»“æ„æ¨¡å¼-é€‚é…å™¨æ¨¡å¼.html.943341cd.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_javaå¼‚å¸¸.html.8163afe6.js" as="script"><link rel="prefetch" href="/assets/js/blog_zookeeper_zookeeperå¸¸ç”¨å‘½ä»¤.html.ccd7075f.js" as="script"><link rel="prefetch" href="/assets/js/blog_Spring_Springçš„@Conditionalæ³¨è§£.html.5f65dc4e.js" as="script"><link rel="prefetch" href="/assets/js/blog_Redis_Redisä¸»ä»ï¼Œå“¨å…µå’Œé›†ç¾¤æ¨¡å¼.html.aa2dbfb4.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_Sentinelé™æµ.html.8b2f47fa.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥ä½œæµ_flowable ä¼šç­¾ã€è½¬æ´¾ã€å§”æ´¾ã€åŠ ç­¾.html.fe12b8bf.js" as="script"><link rel="prefetch" href="/assets/js/8300.507decb8.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_çº¿ç¨‹åŸºç¡€.html.70250ec3.js" as="script"><link rel="prefetch" href="/assets/js/blog_Redis_Rediså‘å¸ƒè®¢é˜…ï¼Œé”å’Œäº‹åŠ¡.html.bfa6ed75.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_SpringBootæ³¨å†ŒBeançš„6ç§æ–¹å¼.html.f2ee66a8.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_volatileçš„åŸç†.html.dc163494.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_@SentinelResourceæ³¨è§£.html.b97d8ef6.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_å…³ç³»æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼.html.33d7d3b5.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_mysqlçš„é”.html.a925fc01.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_åˆ›å»ºæ¨¡å¼-ç”Ÿæˆå™¨æ¨¡å¼.html.708e6156.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_å…³ç³»æ¨¡å¼-ç­–ç•¥æ¨¡å¼.html.4d6df174.js" as="script"><link rel="prefetch" href="/assets/js/blog_Jvm_jvmè°ƒä¼˜å·¥å…·.html.9524cdcb.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_MySQLçš„sqlæ‰§è¡Œæµç¨‹.html.b40227d0.js" as="script"><link rel="prefetch" href="/assets/js/blog_Jvm_jvmåƒåœ¾æ”¶é›†å™¨.html.c7f2b48c.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_mysqlçš„ç´¢å¼•.html.767c629c.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_æµ®ç‚¹ç²¾åº¦ï¼ˆfloatã€doubleï¼‰è¿ç®—ä¸ç²¾ç¡®çš„åŸå› .html.e82b007c.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_CountDownLatchå’ŒCyclicBarrier.html.c92c6f06.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_åˆ›å»ºæ¨¡å¼-å•ä¾‹æ¨¡å¼.html.f8dc7738.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_SpringCloudé¡¹ç›®åˆ›å»º.html.2cbcd709.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_ç»“æ„æ¨¡å¼-è£…é¥°è€…æ¨¡å¼.html.d6bc0331.js" as="script"><link rel="prefetch" href="/assets/js/blog_Jvm_JVMçš„åƒåœ¾å›æ”¶æœºåˆ¶.html.7fa4484a.js" as="script"><link rel="prefetch" href="/assets/js/blog_Nginx_ä¸€ç¯‡æå®šnignx.html.aeb6d2c2.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_RabbitMQå®‰è£….html.269b3d71.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_Sentinelç†”æ–­.html.d902a7fd.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_JMMæ¨¡å‹.html.f2f763fe.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥ä½œæµ_SpringBootæ•´åˆflowable.html.f7363038.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_mysqlçš„äº‹åŠ¡.html.0cc35d65.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_å®‰è£…RocketMQ.html.bb7d2329.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_SpringBootè‡ªå®šä¹‰starter.html.34d22af8.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_MySQLçš„MVCC.html.62c216b3.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_nacosçš„å®‰è£….html.9c8618e7.js" as="script"><link rel="prefetch" href="/assets/js/blog_Redis_RedisæŒä¹…åŒ–.html.9437b467.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_synchronizedåº•å±‚åŸç† .html.66251196.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_nacoså¿«é€Ÿå¼€å§‹.html.00b5198a.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_javaè¿ç®—ç¬¦ä¼˜å…ˆçº§.html.763da98a.js" as="script"><link rel="prefetch" href="/assets/js/blog_Docker_å®‰è£…nginx.html.99c34a97.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_javaè®¿é—®æƒé™ä¿®é¥°ç¬¦.html.e258acb9.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_äº‘æœåŠ¡å™¨MySQLæ•°æ®è‡ªåŠ¨å¤‡ä»½åˆ°ä¸ƒç‰›äº‘.html.8bcd955b.js" as="script"><link rel="prefetch" href="/assets/js/blog_zookeeper_å®‰è£…zookeeper.html.4d9c3c1e.js" as="script"><link rel="prefetch" href="/assets/js/blog_Docker_linuxå®‰è£…docker.html.7465320e.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_mysqlçš„Buffer Pool.html.b9df59cc.js" as="script"><link rel="prefetch" href="/assets/js/blog_Nginx_SSLè¯ä¹¦å®‰è£….html.2d23e001.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥å…·_NavicatPremium16çš„å®‰è£…ä¸æ¿€æ´».html.7f7ec437.js" as="script"><link rel="prefetch" href="/assets/js/blog_Docker_å®‰è£…mysqlå•æœºç‰ˆæœ¬.html.4c8f1c70.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_sentinelå¿«é€Ÿå¼€å§‹.html.3d87d218.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥å…·_Odsidianæ–‡æœ¬ç¼–è¾‘å™¨.html.7db6ff34.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥å…·_Jmeterçš„å®‰è£…ä½¿ç”¨.html.36573825.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_æ—¥å¿—æ¶æ„å†å².html.3661d33e.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥ä½œæµ_Flowableæµç¨‹å›¾.html.9299e2a2.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥å…·_å›¾åºŠç¥å™¨PicGo_ä¸ƒç‰›äº‘.html.9b844cae.js" as="script"><link rel="prefetch" href="/assets/js/blog_Jvm_JVMè¿è¡Œæ—¶å†…å­˜åˆ’åˆ†.html.c3a3846a.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥å…·_xshell8å®‰è£….html.0a29ce43.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_TCPä¸‰æ¬¡æ¡æ‰‹.html.98428c66.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_å¸¸è§é—®é¢˜.html.1d4bd40a.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥å…·_idea2024.1.7çš„ä¸‹è½½å’Œæ¿€æ´».html.9d90e2e7.js" as="script"><link rel="prefetch" href="/assets/js/intro.html.dbe82145.js" as="script"><link rel="prefetch" href="/assets/js/index.html.846aa160.js" as="script"><link rel="prefetch" href="/assets/js/blog_index.html.5a1977b7.js" as="script"><link rel="prefetch" href="/assets/js/category_è®¾è®¡æ¨¡å¼_index.html.e6c60aeb.js" as="script"><link rel="prefetch" href="/assets/js/tag_è®¾è®¡æ¨¡å¼_index.html.49a530e4.js" as="script"><link rel="prefetch" href="/assets/js/category_å¤šçº¿ç¨‹_index.html.327c7223.js" as="script"><link rel="prefetch" href="/assets/js/category_å·¥ä½œæµ_index.html.575bc333.js" as="script"><link rel="prefetch" href="/assets/js/tag_å·¥ä½œæµ_index.html.b0139a84.js" as="script"><link rel="prefetch" href="/assets/js/tag_å¤šçº¿ç¨‹_index.html.dfb08011.js" as="script"><link rel="prefetch" href="/assets/js/category_springcloud_index.html.2d453da3.js" as="script"><link rel="prefetch" href="/assets/js/category_springboot_index.html.64fc639a.js" as="script"><link rel="prefetch" href="/assets/js/category_å·¥å…·_index.html.707ef18c.js" as="script"><link rel="prefetch" href="/assets/js/tag_springcloud_index.html.477d65b2.js" as="script"><link rel="prefetch" href="/assets/js/category_springmvc_index.html.7181f546.js" as="script"><link rel="prefetch" href="/assets/js/category_zookeeper_index.html.c42606bc.js" as="script"><link rel="prefetch" href="/assets/js/tag_springboot_index.html.22858b87.js" as="script"><link rel="prefetch" href="/assets/js/tag_ååƒ»_index.html.f38a3e15.js" as="script"><link rel="prefetch" href="/assets/js/tag_åŸºç¡€_index.html.f7bea83b.js" as="script"><link rel="prefetch" href="/assets/js/tag_å·¥å…·_index.html.6d8eeb41.js" as="script"><link rel="prefetch" href="/assets/js/tag_å¿…çœ‹_index.html.d67e63b4.js" as="script"><link rel="prefetch" href="/assets/js/tag_å¸¸ç”¨_index.html.f3fc91d3.js" as="script"><link rel="prefetch" href="/assets/js/tag_å¹²è´§_index.html.c8e5efdf.js" as="script"><link rel="prefetch" href="/assets/js/tag_æ¨è_index.html.30543499.js" as="script"><link rel="prefetch" href="/assets/js/tag_è¿›é˜¶_index.html.98ec1eee.js" as="script"><link rel="prefetch" href="/assets/js/tag_springmvc_index.html.d06ceeda.js" as="script"><link rel="prefetch" href="/assets/js/tag_zookeeper_index.html.aecb8488.js" as="script"><link rel="prefetch" href="/assets/js/category_mybatis_index.html.cf031081.js" as="script"><link rel="prefetch" href="/assets/js/category_docker_index.html.4ac4dd92.js" as="script"><link rel="prefetch" href="/assets/js/category_spring_index.html.a367aae1.js" as="script"><link rel="prefetch" href="/assets/js/blog_è®¾è®¡æ¨¡å¼_index.html.9aa1a56d.js" as="script"><link rel="prefetch" href="/assets/js/tag_mybatis_index.html.1b5a6d42.js" as="script"><link rel="prefetch" href="/assets/js/category_dubbo_index.html.d628445e.js" as="script"><link rel="prefetch" href="/assets/js/category_mysql_index.html.287ce9d8.js" as="script"><link rel="prefetch" href="/assets/js/category_netty_index.html.e064ef64.js" as="script"><link rel="prefetch" href="/assets/js/category_nginx_index.html.341cdaec.js" as="script"><link rel="prefetch" href="/assets/js/category_redis_index.html.8f5cc280.js" as="script"><link rel="prefetch" href="/assets/js/tag_docker_index.html.61495f5b.js" as="script"><link rel="prefetch" href="/assets/js/tag_spring_index.html.baa825c0.js" as="script"><link rel="prefetch" href="/assets/js/404.html.58e710c6.js" as="script"><link rel="prefetch" href="/assets/js/category_java_index.html.504ee7b6.js" as="script"><link rel="prefetch" href="/assets/js/tag_dubbo_index.html.5273fd3c.js" as="script"><link rel="prefetch" href="/assets/js/tag_mysql_index.html.4d307854.js" as="script"><link rel="prefetch" href="/assets/js/tag_redis_index.html.a748b14b.js" as="script"><link rel="prefetch" href="/assets/js/tag_netty_index.html.97ae1e0f.js" as="script"><link rel="prefetch" href="/assets/js/tag_nginx_index.html.eff817ee.js" as="script"><link rel="prefetch" href="/assets/js/category_jvm_index.html.2ce666f0.js" as="script"><link rel="prefetch" href="/assets/js/tag_java_index.html.e8721972.js" as="script"><link rel="prefetch" href="/assets/js/category_mq_index.html.a1f19d9f.js" as="script"><link rel="prefetch" href="/assets/js/blog_å¤šçº¿ç¨‹_index.html.f8a5b6eb.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥ä½œæµ_index.html.d9556f9c.js" as="script"><link rel="prefetch" href="/assets/js/tag_jvm_index.html.cefc282b.js" as="script"><link rel="prefetch" href="/assets/js/tag_mq_index.html.04c84372.js" as="script"><link rel="prefetch" href="/assets/js/timeline_index.html.abc211eb.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringCloud_index.html.a7eaab4d.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringBoot_index.html.561845b6.js" as="script"><link rel="prefetch" href="/assets/js/category_index.html.91bab3ca.js" as="script"><link rel="prefetch" href="/assets/js/blog_å·¥å…·_index.html.a2ccc1e1.js" as="script"><link rel="prefetch" href="/assets/js/blog_SpringMvc_index.html.4ccd6595.js" as="script"><link rel="prefetch" href="/assets/js/article_index.html.59abb3f0.js" as="script"><link rel="prefetch" href="/assets/js/blog_zookeeper_index.html.b39e5cdf.js" as="script"><link rel="prefetch" href="/assets/js/tag_index.html.890fd18d.js" as="script"><link rel="prefetch" href="/assets/js/star_index.html.3705a336.js" as="script"><link rel="prefetch" href="/assets/js/blog_Mybatis_index.html.7332aaac.js" as="script"><link rel="prefetch" href="/assets/js/blog_Docker_index.html.0a436c1b.js" as="script"><link rel="prefetch" href="/assets/js/blog_Spring_index.html.cf3198d1.js" as="script"><link rel="prefetch" href="/assets/js/blog_Dubbo_index.html.87695749.js" as="script"><link rel="prefetch" href="/assets/js/blog_Netty_index.html.cfb02ef8.js" as="script"><link rel="prefetch" href="/assets/js/blog_Nginx_index.html.ed6f652b.js" as="script"><link rel="prefetch" href="/assets/js/blog_Redis_index.html.f7809072.js" as="script"><link rel="prefetch" href="/assets/js/blog_mysql_index.html.e5cd7ca8.js" as="script"><link rel="prefetch" href="/assets/js/blog_Java_index.html.09b7cde8.js" as="script"><link rel="prefetch" href="/assets/js/blog_Jvm_index.html.0918aa9f.js" as="script"><link rel="prefetch" href="/assets/js/blog_MQ_index.html.f1732c48.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar auto-hide" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><!----><!----><span class="vp-site-name">Mr.Zyh</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="ä¸»é¡µ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" sizing="height" height="1em"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/blog/" aria-label="æ–‡ç« "><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:list" sizing="height" height="1em"></iconify-icon><!--]-->æ–‡ç« <!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/category/" aria-label="åˆ†ç±»"><!---->åˆ†ç±»<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/timeline/" aria-label="æ—¶é—´è½´"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:timeline" sizing="height" height="1em"></iconify-icon><!--]-->æ—¶é—´è½´<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://theme-hope.vuejs.press/zh/" aria-label="V2 æ–‡æ¡£" rel="noopener noreferrer" target="_blank"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:book" sizing="height" height="1em"></iconify-icon><!--]-->V2 æ–‡æ¡£<!----></a></div></nav><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><iconify-icon class="vp-icon" icon="fa6-solid:book" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ–‡ç« </span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Docker</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Dubbo</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Jvm</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">MQ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Mybatis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Mysql</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Netty</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nginx</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spring</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spring Boot</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spring Cloud</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spring Mvc</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Zookeeper</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/blog/zookeeper/zookeeper%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html" aria-label="zookeeperå®ç°åˆ†å¸ƒå¼é”"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->zookeeperå®ç°åˆ†å¸ƒå¼é”<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/blog/zookeeper/zookeeper%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" aria-label="zookeeperå¸¸ç”¨å‘½ä»¤"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->zookeeperå¸¸ç”¨å‘½ä»¤<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/zookeeper/zookeeper%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" aria-label="zookeeperæºç è§£æ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->zookeeperæºç è§£æ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/zookeeper/%E5%AE%89%E8%A3%85zookeeper.html" aria-label="å®‰è£…zookeeper"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->å®‰è£…zookeeper<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/zookeeper/%E6%89%8B%E5%86%99zookeeper%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83.html" aria-label="æ‰‹å†™zookeeperæ³¨å†Œä¸­å¿ƒ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->æ‰‹å†™zookeeperæ³¨å†Œä¸­å¿ƒ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/zookeeper/%E6%89%8B%E5%86%99zookeeper%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83.html" aria-label="æ‰‹å†™zookeeperé…ç½®ä¸­å¿ƒ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->æ‰‹å†™zookeeperé…ç½®ä¸­å¿ƒ<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å¤šçº¿ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å·¥ä½œæµ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å·¥å…·</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">è®¾è®¡æ¨¡å¼</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="height" height="1em"></iconify-icon>zookeeperå¸¸ç”¨å‘½ä»¤</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Ms.Zyh</span></span><span property="author" content="Ms.Zyh"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2022/5/19</span><meta property="datePublished" content="2022-05-19T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 9 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT9M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color6 clickable" role="navigation">zookeeper</span><!--]--><meta property="articleSection" content="zookeeper"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color5 clickable" role="navigation">ååƒ»</span><span class="page-tag-item color6 clickable" role="navigation">zookeeper</span><!--]--><meta property="keywords" content="ååƒ»,zookeeper"></span></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h3 id="ä¸€-å¸¸è§å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ä¸€-å¸¸è§å‘½ä»¤"><span>ä¸€ï¼Œå¸¸è§å‘½ä»¤</span></a></h3><h4 id="_1-1-lså‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_1-1-lså‘½ä»¤"><span>1.1 lså‘½ä»¤</span></a></h4><p>lså‘½ä»¤ï¼šæŸ¥çœ‹ç›®å½•ä¸‹çš„èŠ‚ç‚¹ä¿¡æ¯ï¼Œ</p><p>å‘½ä»¤æ ¼å¼ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-s] [-w] [-R] path</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>-s</code>ï¼šæ˜¾ç¤ºèŠ‚ç‚¹è¯¦æƒ…ï¼ŒåŒ…æ‹¬çŠ¶æ€ä¿¡æ¯</li><li><code>-w</code>ï¼šæ·»åŠ ä¸€ä¸ªwatchç›‘è§†å™¨</li><li><code>-R</code>ï¼šåˆ—ä¸¾å‡ºèŠ‚ç‚¹çš„çº§è”èŠ‚ç‚¹</li><li><code>path</code>ï¼šæ˜¾ç¤ºæŸç›®å½•ä¸‹èŠ‚ç‚¹/æ–‡ä»¶</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 9] ls  /zookeeper </span></span>
<span class="line"><span>[config, quota]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 11] ls -R /zookeeper </span></span>
<span class="line"><span>/zookeeper</span></span>
<span class="line"><span>/zookeeper/config</span></span>
<span class="line"><span>/zookeeper/quota</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 10] ls -s /zookeeper </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[config, quota]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ctime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Thu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Jan</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 00:00:00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UTC</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1970</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Thu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Jan</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 00:00:00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UTC</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1970</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cversion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dataVersion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">aclVersion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ephemeralOwner</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dataLength</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">numChildren</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>cZxidï¼šåˆ›å»ºèŠ‚ç‚¹çš„äº‹åŠ¡ zxid æ¯æ¬¡ä¿®æ”¹ ZooKeeper çŠ¶æ€éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª ZooKeeper äº‹åŠ¡ IDã€‚äº‹åŠ¡ ID æ˜¯ ZooKeeper ä¸­æ‰€ æœ‰ä¿®æ”¹æ€»çš„æ¬¡åºã€‚æ¯æ¬¡ä¿®æ”¹éƒ½æœ‰å”¯ä¸€çš„ zxidï¼Œå¦‚æœ zxid1 å°äº zxid2ï¼Œé‚£ä¹ˆ zxid1 åœ¨ zxid2 ä¹‹ å‰å‘ç”Ÿã€‚</li><li>ctimeï¼šznode è¢«åˆ›å»ºçš„æ¯«ç§’æ•°ï¼ˆä» 1970 å¹´å¼€å§‹ï¼‰</li><li>mZxidï¼šznode æœ€åæ›´æ–°çš„äº‹åŠ¡ zxid</li><li>mtimeï¼šznode æœ€åä¿®æ”¹çš„æ¯«ç§’æ•°ï¼ˆä» 1970 å¹´å¼€å§‹ï¼‰</li><li>pZxidï¼šznode æœ€åæ›´æ–°çš„å­èŠ‚ç‚¹ zxid å°šç¡…è°·æŠ€æœ¯ä¹‹</li><li>cversionï¼šznode å­èŠ‚ç‚¹å˜åŒ–å·ï¼Œznode å­èŠ‚ç‚¹ä¿®æ”¹æ¬¡æ•°</li><li>dataversionï¼šznode æ•°æ®å˜åŒ–å·</li><li>aclVersionï¼šznode è®¿é—®æ§åˆ¶åˆ—è¡¨çš„å˜åŒ–å·</li><li>ephemeralOwnerï¼šå¦‚æœæ˜¯ä¸´æ—¶èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ˜¯ znode æ‹¥æœ‰è€…çš„ session idã€‚å¦‚æœä¸æ˜¯ä¸´æ—¶èŠ‚ç‚¹åˆ™æ˜¯ 0ã€‚</li><li>dataLengthï¼šznode çš„æ•°æ®é•¿åº¦</li><li>numChildrenï¼šznode å­èŠ‚ç‚¹æ•°é‡</li></ul><blockquote><p>cZxidå’ŒmZxidå’ŒpZxidå¯ä»¥åˆ¤æ–­å‡ºè¯·æ±‚æ‰§è¡Œçš„å…¨å±€é¡ºåº</p><p>cversionå’Œdataversionå’ŒaclVersion åŸºäºCASç†è®ºä¿è¯åˆ†å¸ƒå¼æ•°æ®çš„åŸå­æ€§</p></blockquote><h4 id="_1-2-statå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_1-2-statå‘½ä»¤"><span>1.2 statå‘½ä»¤</span></a></h4><p>statå‘½ä»¤ï¼šæŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€ã€‚</p><p>å‘½ä»¤æ ¼å¼ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>stat [-w] path</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>-w</code>ï¼šæ·»åŠ watch</li><li><code>path</code>ï¼šæŸ¥çœ‹æŸç›®å½•ä¸‹èŠ‚ç‚¹çš„çŠ¶æ€</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 12] stat /zookeeper </span></span>
<span class="line"><span>cZxid = 0x0</span></span>
<span class="line"><span>ctime = Thu Jan 01 00:00:00 UTC 1970</span></span>
<span class="line"><span>mZxid = 0x0</span></span>
<span class="line"><span>mtime = Thu Jan 01 00:00:00 UTC 1970</span></span>
<span class="line"><span>pZxid = 0x0</span></span>
<span class="line"><span>cversion = -2</span></span>
<span class="line"><span>dataVersion = 0</span></span>
<span class="line"><span>aclVersion = 0</span></span>
<span class="line"><span>ephemeralOwner = 0x0</span></span>
<span class="line"><span>dataLength = 0</span></span>
<span class="line"><span>numChildren = 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å„ä¸ªå‚æ•°å«ä¹‰å‚è€ƒ<code>ls -s</code> è¾“å‡ºä¿¡æ¯ã€‚</p><h4 id="_2-3-createå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_2-3-createå‘½ä»¤"><span>2.3 createå‘½ä»¤</span></a></h4><p>createå‘½ä»¤ï¼šåˆ›å»ºèŠ‚ç‚¹ï¼Œé»˜è®¤æŒä¹…èŠ‚ç‚¹</p><p>å‘½ä»¤æ ¼å¼ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>create [-s] [-e] [-c] [-t ttl] path [data] [acl]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>-s</code>ï¼šæœ‰åºèŠ‚ç‚¹</li><li><code>-e</code>ï¼šä¸´æ—¶èŠ‚ç‚¹ï¼Œä¸åŠ é»˜è®¤æ˜¯æŒä¹…èŠ‚ç‚¹</li><li><code>-t ttl</code>ï¼šå¸¦è¿‡æœŸæ—¶é—´èŠ‚ç‚¹ï¼Œæ¯”å¦‚ï¼š<code>create â€t 10 /ttl</code>ï¼Œé»˜è®¤ç¦ç”¨ï¼Œéœ€è¦åœ¨ zoo.cfgä¸­æ·»åŠ  <code>extendedTypesEnabled=true</code> å¼€å¯ã€‚ æ³¨æ„ï¼šttlä¸èƒ½ç”¨äºä¸´æ—¶èŠ‚ç‚¹ ã€‚</li></ul><p>Znodeä¸€èˆ¬åˆ†ä¸º 4ç§ç±»å‹ï¼š</p><ul><li>æŒä¹…çš„ï¼ˆpersistentï¼‰</li><li>ä¸´æ—¶çš„ï¼ˆephemeralï¼‰</li><li>æŒä¹…æœ‰åºçš„ï¼ˆpersistent_sequentialï¼‰</li><li>ä¸´æ—¶æœ‰åºçš„ï¼ˆephemeral_sequentialï¼‰</li></ul><p>ä¾‹å¦‚ï¼š</p><p>åˆ›å»ºæŒä¹…èŠ‚ç‚¹ï¼š</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 12] create /p_node1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /p_node1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 5] create -e /p_node1/e_node1</span></span>
<span class="line"><span>Created /p_node1/e_node1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºé¡ºåºèŠ‚ç‚¹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 16] create -s  /p_node1/</span></span>
<span class="line"><span>Created /p_node1/0000000000</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 17] create -s  /p_node1/</span></span>
<span class="line"><span>Created /p_node1/0000000001</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 18] create -s  /p_node1/seq_</span></span>
<span class="line"><span>Created /p_node1/seq_0000000002</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 19] create -s  /p_node1/seq_</span></span>
<span class="line"><span>Created /p_node1/seq_0000000003</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-setå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_2-4-setå‘½ä»¤"><span>2.4 setå‘½ä»¤</span></a></h4><p>setå‘½ä»¤ï¼šä¿®æ”¹èŠ‚ç‚¹å†…å®¹</p><p>å‘½ä»¤æ ¼å¼ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>set [-s] [-v version] path data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-sï¼šæ›´æ–°èŠ‚ç‚¹æ•°æ®å¹¶æ˜¾ç¤ºèŠ‚ç‚¹çŠ¶æ€ä¿¡æ¯</li><li>-v æŒ‡å®šæ•°æ®ç‰ˆæœ¬å·ï¼Œå¦‚æœæŒ‡å®šçš„æ•°æ®ç‰ˆæœ¬å·å’Œæ•°æ®å½“å‰ç‰ˆæœ¬å·ä¸ä¸€è‡´ï¼Œåˆ™æ›´æ–°å¤±è´¥ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 36] set /p_node1/e_node1 &quot;set data1&quot;</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 37] set -s /p_node1/e_node1 &quot;set data2&quot;</span></span>
<span class="line"><span>cZxid = 0x6c</span></span>
<span class="line"><span>ctime = Fri May 13 09:55:49 UTC 2022</span></span>
<span class="line"><span>mZxid = 0x80</span></span>
<span class="line"><span>mtime = Fri May 13 10:15:46 UTC 2022</span></span>
<span class="line"><span>pZxid = 0x6c</span></span>
<span class="line"><span>cversion = 0</span></span>
<span class="line"><span>dataVersion = 6</span></span>
<span class="line"><span>aclVersion = 0</span></span>
<span class="line"><span>ephemeralOwner = 0x100002513c80001</span></span>
<span class="line"><span>dataLength = 9</span></span>
<span class="line"><span>numChildren = 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-5-getå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_2-5-getå‘½ä»¤"><span>2.5 getå‘½ä»¤</span></a></h4><p>getå‘½ä»¤ï¼šè·å–èŠ‚ç‚¹/æ–‡ä»¶å†…å®¹</p><p>å‘½ä»¤æ ¼å¼ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>get [-s] [-w] path</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-sï¼šæŸ¥çœ‹èŠ‚ç‚¹æ•°æ®ä»¥åŠèŠ‚ç‚¹çŠ¶æ€ä¿¡æ¯</li><li>-w æ·»åŠ ä¸€ä¸ªwatchï¼ŒèŠ‚ç‚¹æ•°æ®å˜æ›´æ—¶ï¼Œä¼šé€šçŸ¥å®¢æˆ·ç«¯ï¼ˆé€šçŸ¥æ˜¯ä¸€æ¬¡æ€§çš„ï¼‰ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 38] get /p_node1/e_node1</span></span>
<span class="line"><span>set data2</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 39] get -s /p_node1/e_node1</span></span>
<span class="line"><span>set data2</span></span>
<span class="line"><span>cZxid = 0x6c</span></span>
<span class="line"><span>ctime = Fri May 13 09:55:49 UTC 2022</span></span>
<span class="line"><span>mZxid = 0x80</span></span>
<span class="line"><span>mtime = Fri May 13 10:15:46 UTC 2022</span></span>
<span class="line"><span>pZxid = 0x6c</span></span>
<span class="line"><span>cversion = 0</span></span>
<span class="line"><span>dataVersion = 6</span></span>
<span class="line"><span>aclVersion = 0</span></span>
<span class="line"><span>ephemeralOwner = 0x100002513c80001</span></span>
<span class="line"><span>dataLength = 9</span></span>
<span class="line"><span>numChildren = 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-6-åˆ é™¤èŠ‚ç‚¹" tabindex="-1"><a class="header-anchor" href="#_2-6-åˆ é™¤èŠ‚ç‚¹"><span>2.6 åˆ é™¤èŠ‚ç‚¹</span></a></h4><p>deleteå‘½ä»¤ï¼šåªèƒ½åˆ é™¤æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚å¦‚æœå…¶æœ‰å­èŠ‚ç‚¹æ—¶ï¼Œæ— æ³•åˆ é™¤</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>delete [-v version] path</code></p><p>deleteallå‘½ä»¤ï¼šçº§è”åˆ é™¤è¯¥èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ã€‚</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>deleteall path [-b batch size]</code></p><p>ä¾‹å¦‚ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 43] delete /p_node2/seq_0000000002</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 44] ls -R /p_node2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/p_node2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/p_node2/0000000000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/p_node2/0000000001</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/p_node2/seq_0000000003</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 45] deleteall /p_node2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 46] ls -R /p_node2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> does</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exist:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /p_node2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-7-å…¶å®ƒå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_2-7-å…¶å®ƒå‘½ä»¤"><span>2.7 å…¶å®ƒå‘½ä»¤</span></a></h4><ul><li>historyï¼šæ˜¾ç¤ºæœ€è¿‘æ‰§è¡Œçš„11æ¡å‘½ä»¤çš„å†å²è®°å½•</li><li>getAllChildrenNumberï¼šè·å–èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­å­™èŠ‚ç‚¹æ•°é‡</li><li>getEphemeralsï¼šè·å–å½“å‰å®¢æˆ·ç«¯åˆ›å»ºçš„æ‰€æœ‰ä¸´æ—¶èŠ‚ç‚¹</li></ul><h3 id="äºŒ-ç›‘å¬å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#äºŒ-ç›‘å¬å‘½ä»¤"><span>äºŒï¼Œç›‘å¬å‘½ä»¤</span></a></h3><h4 id="_2-1-ç›‘å¬èŠ‚ç‚¹ç›®å½•å˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-1-ç›‘å¬èŠ‚ç‚¹ç›®å½•å˜åŒ–"><span>2.1 ç›‘å¬èŠ‚ç‚¹ç›®å½•å˜åŒ–</span></a></h4><p>ç›‘å¬èŠ‚ç‚¹ç›®å½•å˜åŒ–ï¼šç›‘å¬èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å˜åŒ–ï¼Œå½“å­èŠ‚ç‚¹å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ã€‚</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>ls -w path</code></p><p>ä¾‹å¦‚ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#åˆ›å»ºèŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 13] create /watch_node</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /watch_node</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#ç›‘å¬èŠ‚ç‚¹ç›®å½•å˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 14] ls -w /watch_node</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 15] create /watch_node/w1 data1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeChildrenChanged</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /watch_node/w1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 17] create /watch_node/w2 data2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /watch_node/w2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€æ¬¡æ€§ç›‘å¬ï¼Œè§¦å‘åä¼šè¢«åˆ é™¤ï¼Œæ— æ³•å†æ¬¡è§¦å‘ã€‚</p><h4 id="_2-2-ç›‘å¬èŠ‚ç‚¹æ•°æ®å˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-2-ç›‘å¬èŠ‚ç‚¹æ•°æ®å˜åŒ–"><span>2.2 ç›‘å¬èŠ‚ç‚¹æ•°æ®å˜åŒ–</span></a></h4><p>ç›‘å¬èŠ‚ç‚¹æ•°æ®å˜åŒ–ï¼šå½“è¯¥èŠ‚ç‚¹æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ã€‚å­èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–ä¸ä¼šè§¦å‘ã€‚</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>get -w path</code></p><p>ä¾‹å¦‚ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ç›‘å¬èŠ‚ç‚¹æ•°æ®å˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 18] get -w /watch_node </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">null</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 19] set /watch_node data</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeDataChanged</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 20] set /watch_node data2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€æ¬¡æ€§ç›‘å¬ï¼Œè§¦å‘åä¼šè¢«åˆ é™¤ï¼Œæ— æ³•å†æ¬¡è§¦å‘ã€‚</p><h4 id="_2-3-æ°¸ä¹…ç›‘å¬" tabindex="-1"><a class="header-anchor" href="#_2-3-æ°¸ä¹…ç›‘å¬"><span>2.3 æ°¸ä¹…ç›‘å¬</span></a></h4><p>åœ¨ Zookeeper 3.6.0ç‰ˆæœ¬ä¹‹åï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨èŠ‚ç‚¹ä¸Šåˆ›å»ºæ°¸ä¹…ç›‘å¬ï¼Œæ°¸ä¹…ç›‘å¬åœ¨è¢«è§¦å‘åä¸ä¼šè¢«åˆ é™¤ã€‚</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>addWatch [-m mode] path</code></p><p>æ°¸ä¹…ç›‘å¬åœ¨åˆ›å»ºæ—¶å¯ä»¥é€šè¿‡ -m æŒ‡å®šæ¨¡å¼ï¼Œæ¨¡å¼åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>PERSISTENTï¼šè¯¥èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–ä»¥åŠå­èŠ‚ç‚¹çš„å˜åŒ–ä¼šè§¦å‘ç›¸åº”äº‹ä»¶ï¼Œå­èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–ä¸ä¼šè§¦å‘ã€‚</li><li>PERSISTENT_RECURSIVEï¼šè¯¥èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–ä»¥åŠæ‰€æœ‰å­å­™èŠ‚ç‚¹çš„ç›®å½•æˆ–è€…æ•°æ®å˜åŒ–éƒ½ä¼šè§¦å‘ç›¸åº”äº‹ä»¶ï¼Œä¸æŒ‡å®šé»˜è®¤ä½¿ç”¨ PERSISTENT_RECURSIVEæ¨¡å¼ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><p>PERSISTENTæ¨¡å¼ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 29] create /watch_node2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ç›‘å¬èŠ‚ç‚¹ PERSISTENT   </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 30] addWatch -m PERSISTENT /watch_node2   </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 31] set /watch_node2 data1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeDataChanged</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 32] create /watch_node2/w1 data</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /watch_node2/w1</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeChildrenChanged</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#å­èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–ä¸ä¼šè§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 33] set /watch_node2/w1 data1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 34] delete /watch_node2/w1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeChildrenChanged</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PERSISTENT_RECURSIVEæ¨¡å¼</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 39] create /watch_node3</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ç›‘å¬èŠ‚ç‚¹ PERSISTENT_RECURSIVE  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 40] addWatch -m PERSISTENT_RECURSIVE /watch_node3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 41] set /watch_node3 data1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeDataChanged</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 42] create /watch_node3/w1 </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeCreated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node3/w1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /watch_node3/w1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#å­èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–ä¹Ÿä¼šè§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 43] set /watch_node3/w1 data1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeDataChanged</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node3/w1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 44]  delete /watch_node3/w1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WATCHER::</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WatchedEvent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state:SyncConnected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type:NodeDeleted</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path:/watch_node3/w1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸‰-aclå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ä¸‰-aclå‘½ä»¤"><span>ä¸‰ï¼ŒACLå‘½ä»¤</span></a></h3><h4 id="_3-1-aclæ€»ä½“æ„æˆ" tabindex="-1"><a class="header-anchor" href="#_3-1-aclæ€»ä½“æ„æˆ"><span>3.1 ACLæ€»ä½“æ„æˆ</span></a></h4><p>Zookeeper çš„ ACL(Access Control List)ï¼Œåˆ†ä¸ºä¸‰ä¸ªç»´åº¦ï¼šschemeã€idã€permissionã€‚</p><p>é€šå¸¸è¡¨ç¤ºä¸ºï¼š<code>scheme:id:permission</code>æ¥æ„æˆæƒé™åˆ—è¡¨ã€‚</p><ul><li>schemeï¼šä»£è¡¨é‡‡ç”¨æŸç§æƒé™æœºåˆ¶</li><li>idï¼šä»£è¡¨å…è®¸è®¿é—®çš„ç”¨æˆ·</li><li>permissionsï¼šä»£è¡¨æƒé™ï¼ˆç»„åˆå­—ç¬¦ä¸²ï¼‰</li></ul><h5 id="_3-1-1-scheme-æƒé™ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_3-1-1-scheme-æƒé™ç­–ç•¥"><span>3.1.1 schemeï¼šæƒé™ç­–ç•¥</span></a></h5><ul><li>world : worldä¸‹åªæœ‰ä¸€ä¸ªidï¼Œå³åªæœ‰ä¸€ä¸ªç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯anyoneï¼Œé‚£ä¹ˆç»„åˆçš„å†™æ³•å°±æ˜¯<code>world:anyone:[permissions]</code>ã€‚ <code>world:anyone</code> ä»£è¡¨ä»»ä½•äººï¼Œzookeeper ä¸­å¯¹æ‰€æœ‰äººæœ‰æƒé™çš„ç»“ç‚¹å°±æ˜¯å±äº<code> world:anyone</code> çš„ã€‚</li><li>authï¼šä»£è¡¨è®¤è¯ç™»å½•ï¼Œéœ€è¦æ³¨å†Œç”¨æˆ·æœ‰æƒé™å°±å¯ä»¥ï¼Œä½¿ç”¨çš„æ˜¯æ˜æ–‡å¯†ç ï¼Œå½¢å¼ä¸º<code>auth:user:password:[permissions]</code>ã€‚</li><li>å®ƒä¸éœ€è¦ id, åªè¦æ˜¯é€šè¿‡ authentication çš„ user éƒ½æœ‰æƒé™ï¼ˆzookeeper æ”¯æŒé€šè¿‡ kerberosæ¥è¿›è¡Œ authencationï¼Œä¹Ÿæ”¯æŒ username/password å½¢å¼çš„ authentication)ã€‚</li><li>digestï¼šéœ€è¦å¯¹å¯†ç åŠ å¯†æ‰èƒ½è®¿é—®ï¼Œä½¿ç”¨çš„æ˜¯åŠ å¯†å¯†ç ï¼Œç»„åˆå½¢å¼ä¸º</li><li>digest: <code>username:BASE64(SHA1(password)):[permissions]</code>ã€‚</li><li>ipï¼šå®ƒå¯¹åº”çš„ id ä¸ºå®¢æˆ·æœºçš„ IP åœ°å€ï¼Œè®¾ç½®çš„æ—¶å€™å¯ä»¥è®¾ç½®ä¸€ä¸ª ip æ®µï¼Œæ­¤æ—¶é™åˆ¶ipè¿›è¡Œè®¿é—®ã€‚æ¯”å¦‚ip:192.168.1.1:[permissions]</li><li>superï¼šä»£è¡¨è¶…çº§ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰çš„æƒé™</li></ul><h5 id="_3-1-2-id-ç”¨æˆ·" tabindex="-1"><a class="header-anchor" href="#_3-1-2-id-ç”¨æˆ·"><span>3.1.2 idï¼šç”¨æˆ·</span></a></h5><p>id æ˜¯éªŒè¯æ¨¡å¼ï¼Œä¸åŒçš„ schemeï¼Œid çš„å€¼ä¹Ÿä¸ä¸€æ ·ã€‚é»˜è®¤ä¸ºanyoneã€‚s</p><ul><li>scheme ä¸º auth æ—¶ï¼Œidä¸ºï¼š<code>username:password</code></li><li>scheme ä¸º digest æ—¶ï¼Œidä¸ºï¼š<code>username:BASE64(SHA1(password))</code></li><li>scheme ä¸º ip æ—¶ï¼Œidä¸ºï¼šå®¢æˆ·ç«¯çš„ ip åœ°å€ã€‚</li><li>scheme ä¸º world æ—¶ï¼Œidä¸ºï¼šanyone</li></ul><h5 id="_3-1-3-permission-æƒé™" tabindex="-1"><a class="header-anchor" href="#_3-1-3-permission-æƒé™"><span>3.1.3 permissionï¼šæƒé™</span></a></h5><p>Zookeeperå®šä¹‰äº†äº”ç§æƒé™ï¼š</p><ul><li>CREATEï¼šåˆ›å»ºå­èŠ‚ç‚¹çš„æƒé™ã€‚å…è®¸åˆ›å»ºå­èŠ‚ç‚¹ï¼›</li><li>DELETEï¼šåˆ é™¤èŠ‚ç‚¹çš„æƒé™ã€‚å…è®¸åˆ é™¤å­èŠ‚ç‚¹ï¼›</li><li>READï¼šè¯»å–èŠ‚ç‚¹æ•°æ®çš„æƒé™ã€‚å…è®¸ä»èŠ‚ç‚¹è·å–æ•°æ®å¹¶åˆ—å‡ºå…¶å­èŠ‚ç‚¹ï¼›</li><li>WRITEï¼šä¿®æ”¹èŠ‚ç‚¹æ•°æ®çš„æƒé™ã€‚å…è®¸ä¸ºèŠ‚ç‚¹è®¾ç½®æ•°æ®ï¼›</li><li>ADMINï¼šè®¾ç½®å­èŠ‚ç‚¹æƒé™çš„æƒé™ï¼Œå…è®¸ä¸ºèŠ‚ç‚¹è®¾ç½®æƒé™ã€‚</li></ul><p>CREATEã€READã€WRITEã€DELETEã€ADMIN ä¹Ÿå°±æ˜¯å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€ç®¡ç†æƒé™ï¼Œè¿™ 5 ç§æƒé™ç®€å†™ä¸º crwdaï¼ˆå³å•è¯çš„é¦–å­—ç¬¦ç¼©å†™ï¼‰ã€‚</p><h4 id="_3-2-aclå‘½ä»¤æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_3-2-aclå‘½ä»¤æ“ä½œ"><span>3.2 ACLå‘½ä»¤æ“ä½œ</span></a></h4><h5 id="_3-2-1-getaclå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_3-2-1-getaclå‘½ä»¤"><span>3.2.1 getAclå‘½ä»¤</span></a></h5><p>getAclå‘½ä»¤ï¼šæŸ¥çœ‹æŒ‡å®šèŠ‚ç‚¹ ACLä¿¡æ¯</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>getAcl [-s] path</code>ï¼Œ-sï¼šæŸ¥çœ‹èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯</p><p>ä¾‹å¦‚ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 15] getAcl /p_node1 </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;world,&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">anyone</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cdrwa</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 17] getAcl -s /p_node1 </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;world,&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">anyone</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cdrwa</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x67</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ctime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Fri</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> May</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 13</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:53:38</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UTC</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2022</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x67</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Fri</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> May</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 13</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:53:38</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UTC</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2022</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pZxid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x83</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cversion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dataVersion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">aclVersion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ephemeralOwner</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0x0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dataLength</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">numChildren</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-2-2-setaclå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_3-2-2-setaclå‘½ä»¤"><span>3.2.2 setAclå‘½ä»¤</span></a></h5><p>setAclå‘½ä»¤ï¼šè®¾ç½®æŒ‡å®šèŠ‚ç‚¹çš„ACL ä¿¡æ¯</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>setAcl [-s] [-v version] [-R] path acl</code></p><p>ä¾‹å¦‚ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 21] create /testAcl</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /testAcl</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è®¾ç½®è¯¥èŠ‚ç‚¹çš„ acl æƒé™</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 22] setAcl /testAcl world:anyone:crwa </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 23] getAcl /testAcl</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;world,&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">anyone</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> crwa</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ›å»ºå­èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 24] create /testAcl/xyz </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; xyz-data&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /testAcl/xyz</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ç”±äºæ²¡æœ‰ d æƒé™ï¼Œæ‰€ä»¥æç¤ºæ— æ³•åˆ é™¤</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 25] delete /testAcl/xyz</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Insufficient</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> permission</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /testAcl/xyz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-2-3-addauthå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_3-2-3-addauthå‘½ä»¤"><span>3.2.3 addauthå‘½ä»¤</span></a></h5><p>addauthå‘½ä»¤ï¼šæ·»åŠ è®¤è¯ç”¨æˆ·</p><p>å‘½ä»¤æ ¼å¼ï¼š<code>addauth scheme auth</code></p><ul><li>schemeï¼šï¼ˆdigestï¼šæ˜¯æˆæƒæ–¹å¼ï¼‰æ ¼å¼ä¸ºï¼š<code>digest username:password</code></li><li>authï¼šå°±æ˜¯åˆ†é…æƒé™ï¼Œ crwdaã€‚å¦‚æœä¸å†™æ—¶è¡¨ç¤ºåˆ›å»ºç”¨æˆ·ï¼Œå¯ä»¥é€šè¿‡setAclå‘½ä»¤æ¥è®¾ç½®æƒé™</li></ul><p>æ¡ˆä¾‹1ï¼šæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶åˆ†é…æƒé™ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 27] addauth digest charge_admin:123456 crwda</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[zk: 192.168.198.110:2181(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CONNECTED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) 28] addauth digest charge_crw:123456 crw</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¡ˆä¾‹2ï¼šç»™æŸä¸ªèŠ‚ç‚¹ï¼Œè®¾ç½®ç”¨æˆ·ï¼Œç”¨æˆ·åªèƒ½åœ¨åˆ†é…çš„æƒé™å†…æ“ä½œ</p><div class="language-shs line-numbers-mode" data-highlighter="shiki" data-ext="shs" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shs"><span class="line"><span># æ·»åŠ ä¸€ä¸ªç”¨æˆ·</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 13] addauth digest user1:123456</span></span>
<span class="line"><span># ç»™èŠ‚ç‚¹è®¾ç½®ç”¨æˆ·æƒé™</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 14] setAcl /testAcl auth:user1:123456:crwa</span></span>
<span class="line"><span># æŸ¥çœ‹èŠ‚ç‚¹æƒé™ï¼Œå¯†ç æ˜¯ä»¥å¯†æ–‡çš„å½¢å¼å­˜å‚¨çš„</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 15] getAcl /testAcl</span></span>
<span class="line"><span>&#39;digest,&#39;user1:HYGa7IZRm2PUBFiFFu8xY2pPP/s=</span></span>
<span class="line"><span>: crwa</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 16] create /testAcl/ztest &quot;data&quot;</span></span>
<span class="line"><span>Created /testAcl/ztest</span></span>
<span class="line"><span># ç”±äºç”¨æˆ·æ²¡æœ‰ d æƒé™ï¼Œæ‰€ä»¥æç¤ºæ— æ³•åˆ é™¤</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 17] delete /testAcl/ztest</span></span>
<span class="line"><span>Insufficient permission : /testAcl/ztest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ quité€€å‡ºåï¼Œé‡æ–°è¿›å…¥å®¢æˆ·ç«¯ï¼Œæ“ä½œ /testAclèŠ‚ç‚¹</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>#æ²¡æœ‰ç”¨æˆ·æƒé™æ— æ³•è®¿é—®</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 0] ls /testAcl</span></span>
<span class="line"><span>Insufficient permission : /testAcl</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 1] create /testAcl/ztest2</span></span>
<span class="line"><span>Insufficient permission : /testAcl/ztest2</span></span>
<span class="line"><span></span></span>
<span class="line"><span># é‡æ–°æ–°å¢æƒé™åå¯ä»¥è®¿é—®äº†</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 2] addauth digest user1:123456</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 3] create /testAcl/ztest2</span></span>
<span class="line"><span>Created /testAcl/ztest2</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 4] ls -R /testAcl</span></span>
<span class="line"><span>/testAcl</span></span>
<span class="line"><span>/testAcl/xyz</span></span>
<span class="line"><span>/testAcl/ztest</span></span>
<span class="line"><span>/testAcl/ztest2</span></span>
<span class="line"><span># ç”±äºç”¨æˆ·æ²¡æœ‰ d æƒé™ï¼Œæ‰€ä»¥æç¤ºæ— æ³•åˆ é™¤</span></span>
<span class="line"><span>[zk: 192.168.198.110:2181(CONNECTED) 5] delete /testAcl/ztest2</span></span>
<span class="line"><span>Insufficient permission : /testAcl/ztest2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è½¬å‘ï¼š<a href="https://blog.csdn.net/qq_42402854/article/details/124775663" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_42402854/article/details/124775663</a></p></div><!----><!----><!----></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">æœ€è¿‘æ›´æ–°</span><time class="vp-meta-info" datetime="2025-08-23T07:50:09.000Z" data-allow-mismatch>2025/8/23 07:50</time></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 898362059@qq.pcom">zyh1020</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/blog/zookeeper/zookeeper%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81.html" aria-label="zookeeperå®ç°åˆ†å¸ƒå¼é”"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="height" height="1em"></iconify-icon>zookeeperå®ç°åˆ†å¸ƒå¼é”</div></a><a class="route-link auto-link next" href="/blog/zookeeper/zookeeper%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" aria-label="zookeeperæºç è§£æ"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">zookeeperæºç è§£æ<iconify-icon class="vp-icon" icon="fa6-solid:document" sizing="height" height="1em"></iconify-icon></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 Ms.Zyh </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.248b505e.js" defer></script><script src="/assets/js/5967.f6df6183.js" defer></script><script src="/assets/js/app.9040c5d6.js" defer></script>
  </body>
</html>
